version: '3'

services:
  exercism:
    build: .
    image: brainpower/rust-exercism-cubicle
    cap_add:
      - SYS_PTRACE
    security_opt:
      - seccomp:unconfined
      - apparmor:unconfined
    ports:
      - '8443:8443'
    volumes:
      - ".:/root/project/"
    entrypoint: ["code-server", "--allow-http", "--no-auth", "/root/project"]
